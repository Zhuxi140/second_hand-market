<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhuxi.productModule.infrastructure.mapper.ProductMapper">

    <insert id="insert">
        INSERT INTO
            product( product_sn, seller_id, shop_id, title, description,
                    category_id, price, condition_id, userStatus, location, view_count, host_score, is_draft)
        VALUES
            ( #{productSn}, #{sellerId}, #{shopId}, #{title}, #{description}, #{categoryId},
             #{price}, #{conditionId}, #{userStatus}, #{location}, #{viewCount}, #{hostScore}, #{isDraft})
    </insert>
    <update id="update">
        UPDATE
            product
        <set>
            <if test="productSn != null and productSn != '' ">
                product_sn = #{productSn},
            </if>
            <if test="sellerId != null">
                seller_id = #{sellerId},
            </if>
            <if test="shopId != null">
                shop_id = #{shopId},
            </if>
            <if test="title != null and title != ''">
                title = #{title},
            </if>
            <if test="description != null and description != ''">
                description = #{description},
            </if>
            <if test="categoryId != null">
                category_id = #{categoryId},
            </if>
            <if test="price != null">
                price = #{price},
            </if>
            <if test="conditionId != null">
                condition_id = #{conditionId},
            </if>
            <if test="userStatus != null">
                userStatus = #{userStatus},
            </if>
            <if test="location != null">
                location = #{location},
            </if>
            <if test="viewCount != null">
                view_count = #{viewCount},
            </if>
            <if test="hostScore != null">
                host_score = #{hostScore},
            </if>
            <if test="isDraft != null">
                is_draft = #{isDraft}
            </if>
        </set>
        WHERE
            id = #{id}
    </update>
</mapper>